<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Music Toy</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Tone.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <script src="script.js" defer></script>
</head>
<body>
  <header>
    <h1>ğŸ¶ Interactive Music Toy ğŸ¶</h1>
    <p>Press keys or use buttons/sliders to create your vibe!</p>
  </header>

  <main>
    <div class="instrument-select">
      <label for="instrument">Instrument:</label>
      <select id="instrument">
        <option value="synth">Synth</option>
        <option value="fm">FM Synth</option>
        <option value="drum">Drum</option>
      </select>
    </div>

    <div class="sliders">
      <div class="slider-group">
        <label for="volume">ğŸ”Š Volume</label>
        <input type="range" id="volume" min="0" max="1" step="0.1" value="0.5">
      </div>
      <div class="slider-group">
        <label for="frequency">ğŸŒˆ Frequency</label>
        <input type="range" id="frequency" min="100" max="2000" value="800">
      </div>
      <div class="slider-group">
        <label for="reverb">ğŸŒŠ Reverb</label>
        <input type="range" id="reverb" min="0" max="1" step="0.1" value="0.3">
      </div>
      <div class="slider-group">
        <label for="distortion">ğŸ”¥ Distortion</label>
        <input type="range" id="distortion" min="0" max="1" step="0.1" value="0.0">
      </div>
    </div>

    <div class="instructions">
      <p>ğŸ¹ Try pressing keys Aâ€“K or click the buttons below to play notes.</p>
    </div>

    <div class="keys">
      <button class="key" data-note="C4">A</button>
      <button class="key" data-note="D4">S</button>
      <button class="key" data-note="E4">D</button>
      <button class="key" data-note="F4">F</button>
      <button class="key" data-note="G4">G</button>
      <button class="key" data-note="A4">H</button>
      <button class="key" data-note="B4">J</button>
      <button class="key" data-note="C5">K</button>
    </div>

    <div class="visualizer-controls">
        <button id="toggleVisualizerBtn">ğŸ”„ Switch to Circle Visualizer</button>
    </div>
    <canvas id="visualizer" width="800" height="400"></canvas>

    <!-- Step Sequencer Section -->
    <section class="sequencer-section">
      <h2>ğŸµ Step Sequencer</h2>
      
      <div class="sequencer-controls">
        <button id="playStopBtn" class="control-btn">â–¶ï¸ Start</button>
        <button id="loopToggleBtn" class="control-btn">ğŸ”„ Loop: OFF</button>
        <button id="clearAllBtn" class="control-btn">ğŸ—‘ï¸ Clear All</button>
        
        <div class="tempo-control">
          <label for="tempoSlider">ğŸ¼ Tempo: <span id="tempoValue">120</span> BPM</label>
          <input type="range" id="tempoSlider" min="60" max="180" value="120">
        </div>
      </div>

      <div class="sequencer-grid">
        <div class="step-labels">
          <div class="step-label">Step</div>
          <div class="step-number">1</div>
          <div class="step-number">2</div>
          <div class="step-number">3</div>
          <div class="step-number">4</div>
          <div class="step-number">5</div>
          <div class="step-number">6</div>
          <div class="step-number">7</div>
          <div class="step-number">8</div>
        </div>
        
        <div class="note-row" data-note="C4">
          <div class="note-label">A (C4)</div>
          <div class="step-cell" data-step="0"></div>
          <div class="step-cell" data-step="1"></div>
          <div class="step-cell" data-step="2"></div>
          <div class="step-cell" data-step="3"></div>
          <div class="step-cell" data-step="4"></div>
          <div class="step-cell" data-step="5"></div>
          <div class="step-cell" data-step="6"></div>
          <div class="step-cell" data-step="7"></div>
        </div>
        
        <div class="note-row" data-note="D4">
          <div class="note-label">S (D4)</div>
          <div class="step-cell" data-step="0"></div>
          <div class="step-cell" data-step="1"></div>
          <div class="step-cell" data-step="2"></div>
          <div class="step-cell" data-step="3"></div>
          <div class="step-cell" data-step="4"></div>
          <div class="step-cell" data-step="5"></div>
          <div class="step-cell" data-step="6"></div>
          <div class="step-cell" data-step="7"></div>
        </div>
        
        <div class="note-row" data-note="E4">
          <div class="note-label">D (E4)</div>
          <div class="step-cell" data-step="0"></div>
          <div class="step-cell" data-step="1"></div>
          <div class="step-cell" data-step="2"></div>
          <div class="step-cell" data-step="3"></div>
          <div class="step-cell" data-step="4"></div>
          <div class="step-cell" data-step="5"></div>
          <div class="step-cell" data-step="6"></div>
          <div class="step-cell" data-step="7"></div>
        </div>
        
        <div class="note-row" data-note="F4">
          <div class="note-label">F (F4)</div>
          <div class="step-cell" data-step="0"></div>
          <div class="step-cell" data-step="1"></div>
          <div class="step-cell" data-step="2"></div>
          <div class="step-cell" data-step="3"></div>
          <div class="step-cell" data-step="4"></div>
          <div class="step-cell" data-step="5"></div>
          <div class="step-cell" data-step="6"></div>
          <div class="step-cell" data-step="7"></div>
        </div>
        
        <div class="note-row" data-note="G4">
          <div class="note-label">G (G4)</div>
          <div class="step-cell" data-step="0"></div>
          <div class="step-cell" data-step="1"></div>
          <div class="step-cell" data-step="2"></div>
          <div class="step-cell" data-step="3"></div>
          <div class="step-cell" data-step="4"></div>
          <div class="step-cell" data-step="5"></div>
          <div class="step-cell" data-step="6"></div>
          <div class="step-cell" data-step="7"></div>
        </div>
        
        <div class="note-row" data-note="A4">
          <div class="note-label">H (A4)</div>
          <div class="step-cell" data-step="0"></div>
          <div class="step-cell" data-step="1"></div>
          <div class="step-cell" data-step="2"></div>
          <div class="step-cell" data-step="3"></div>
          <div class="step-cell" data-step="4"></div>
          <div class="step-cell" data-step="5"></div>
          <div class="step-cell" data-step="6"></div>
          <div class="step-cell" data-step="7"></div>
        </div>
        
        <div class="note-row" data-note="B4">
          <div class="note-label">J (B4)</div>
          <div class="step-cell" data-step="0"></div>
          <div class="step-cell" data-step="1"></div>
          <div class="step-cell" data-step="2"></div>
          <div class="step-cell" data-step="3"></div>
          <div class="step-cell" data-step="4"></div>
          <div class="step-cell" data-step="5"></div>
          <div class="step-cell" data-step="6"></div>
          <div class="step-cell" data-step="7"></div>
        </div>
        
        <div class="note-row" data-note="C5">
          <div class="note-label">K (C5)</div>
          <div class="step-cell" data-step="0"></div>
          <div class="step-cell" data-step="1"></div>
          <div class="step-cell" data-step="2"></div>
          <div class="step-cell" data-step="3"></div>
          <div class="step-cell" data-step="4"></div>
          <div class="step-cell" data-step="5"></div>
          <div class="step-cell" data-step="6"></div>
          <div class="step-cell" data-step="7"></div>
        </div>
      </div>

      <!-- Pattern Management Section -->
      <div class="pattern-management">
        <h3>ğŸ’¾ Save/Load Pattern</h3>
        <div class="pattern-controls">
          <label for="saveSlotSelect">Save Slot:</label>
          <select id="saveSlotSelect">
            <option value="1">Slot 1</option>
            <option value="2">Slot 2</option>
            <option value="3">Slot 3</option>
            <option value="4">Slot 4</option>
            <option value="5">Slot 5</option>
          </select>
          <button id="savePatternBtn" class="control-btn">Save</button>
          <button id="loadPatternBtn" class="control-btn">Load</button>
          <button id="deletePatternBtn" class="control-btn">Delete</button>
        </div>
      </div>
    </section>
  </main>
</body>
</html>
